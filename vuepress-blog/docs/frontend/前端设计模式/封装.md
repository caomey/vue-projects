## 封装(信息隐藏)

1.好的组件设计应是……

- 解耦、专注于单一任务、测试良好

2.坏的组件设计会是.……

- 规模庞大且职责繁多、紧耦合、没有测试

3.开发应用程序时习惯问自己：

- 如何正确地设计组件的结构
- 如何决定将大组件拆分成**小组件**的正确时机
- 如何正确设计组件间的**通信**以避免紧耦合

## 1.单一责任

- Single responsibility principle（ **SRP**）要求组件修改的**动因是唯一**的
- 为何唯一动因如此重要？因为这样才能让组件修改变得相对隔离和易于控制
- 关注于单一职责的组件将更容易编码，以及后期的修改、重用和测试

## 2.封装

- 组件在**不暴露其内部结构**的情况下通过**传参**来控制其行为
- 耦合是反应组件之间**相互依赖程度**的系统特性
- 根据组件相互依赖的程度，大致可划分出两种耦合类别：
  - 松耦合：即组件对其他组件知之甚少或者一无所知
  - 紧耦合：即组件对其他组件的具体细节知道的太多
- 松耦合，或者说“解耦”是我们设计应用程序结构和组件之间关系的**目标**
- **解耦**带来的好处：
  - 使得在某个组件内作出变更不会影响到其他组件
  - 任意组件都可以用一种替代实现来替换
  - 使得组件可以在不同的应用程序之间复用，实现DRY(dont repeat yourself)原则
  - 单个的组件都很容易测试，可以增加应用程序代码的测试覆盖率
- 封装，或者说“**信息隐藏**”，是设计组件的**基本原则**，也是解耦的关键
- **信息隐藏**
  - 信息隐藏就是把组件各自的实现细节隐藏起来，只暴露公共接口来控制其行为
  - 组件可以是函数式也可以是对象，它（们）的属性、方法、状态、生命周期勾子..….等等这些都是实现细节，其他的组件不应该知道这些细节
  - 隐藏信息做得很好的组件与其他组件的耦合性就很低
- **通信**
  - 尽管信息隐藏是对隔离组件的必要限制，但我们仍然需要组件之间相互通信的方式，也就是传参
  - 尽可能使用**原生类型**来传值（字符串、数字、布尔等）
  - 必要的时候可以考虑使用复杂的数据结构（对象、数组等）
  - 函数作为参数传递通常都是为了处理事件或异步行为
  - 参数也可以是组件（HOC）,higher order component
  - 为了避免破坏封装性，要特别小心谨慎的**考虑传参的选择**，尽可能不要把组件内部的实现细节作为参数传递

